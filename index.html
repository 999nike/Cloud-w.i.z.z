Cloud Wizz Online :root { --bg-color: #111; --text-color: #0ff; --user-bubble: #0ff; --wizz-bubble: #222; } body.light { --bg-color: #f9f9f9; --text-color: #111; --user-bubble: #d0f0ff; --wizz-bubble: #e0e0e0; } body { background: var(--bg-color); color: var(--text-color); font-family: Arial, sans-serif; text-align: center; padding: 20px; } input { width: 60%; padding: 10px; border-radius: 5px; border: 1px solid var(--text-color); background: #222; color: var(--text-color); } button { padding: 10px 20px; margin: 5px; background: var(--text-color); border: none; border-radius: 5px; cursor: pointer; color: var(--bg-color); font-weight: bold; } #chatHistory { display: flex; flex-direction: column; align-items: flex-start; gap: 6px; overflow-y: auto; max-height: 60vh; padding: 10px; margin-top: 20px; border-top: 1px solid var(--text-color); } .message { max-width: 80%; margin: 5px; padding: 10px 15px; border-radius: 12px; line-height: 1.4; display: inline-block; word-wrap: break-word; } .user { background-color: var(--user-bubble); color: var(--bg-color); text-align: right; align-self: flex-end; border-top-right-radius: 0; } .wizz { background-color: var(--wizz-bubble); color: var(--text-color); border-top-left-radius: 0; } #typingIndicator { font-style: italic; margin-top: 5px; } â˜ï¸ Cloud Wizz Online Send ðŸ§¼ Clear Chat ðŸ§  Clear Memory ðŸŒ“ Toggle Theme 

const memoryStore = { name: null, traits: [], reminders: [], lastChat: [] }; function loadMemory() { const raw = localStorage.getItem("cloudWizzMemory"); if (raw) { try { const parsed = JSON.parse(raw); Object.assign(memoryStore, parsed); } catch (e) { console.warn("ðŸ§  Failed to parse memory:", e); } } } function saveMemory() { localStorage.setItem("cloudWizzMemory", JSON.stringify(memoryStore)); } function rememberName(name) { memoryStore.name = name; saveMemory(); return `âœ… Got it. I'll call you ${name}.`; } function addTrait(trait) { if (!memoryStore.traits.includes(trait)) memoryStore.traits.push(trait); saveMemory(); } function addReminder(msg) { memoryStore.reminders.push(msg); saveMemory(); } function logChat(entry) { memoryStore.lastChat.push(entry); if (memoryStore.lastChat.length > 20) memoryStore.lastChat.shift(); saveMemory(); } function recallMemorySummary() { const name = memoryStore.name || "stranger"; const traits = memoryStore.traits.join(", ") || "none"; const reminders = memoryStore.reminders.map((r, i) => `â€¢ ${r}`).join("\n") || "none"; return `ðŸ‘¤ You are ${name}.\nðŸ§¬ Traits: ${traits}\nðŸ“Œ Reminders:\n${reminders}`; } function checkMemoryTriggers(input) { const lower = input.toLowerCase(); if (lower.startsWith("my name is ")) { const name = input.split("is ")[1].trim(); return rememberName(name); } if (lower.includes("add trait ")) { const trait = input.split("add trait ")[1].trim(); addTrait(trait); return `ðŸ§  Trait "${trait}" added.`; } if (lower.includes("add reminder")) { const note = input.split("add reminder")[1].trim(); addReminder(note); return `ðŸ“Œ Reminder added: ${note}`; } if (lower.includes("what do you remember") || lower.includes("who am i")) { return recallMemorySummary(); } return null; } const chatHistory = document.getElementById("chatHistory"); const typingIndicator = document.getElementById("typingIndicator"); function toggleTheme() { const isLight = document.body.classList.toggle("light"); localStorage.setItem("wizzTheme", isLight ? "light" : "dark"); } function applyTheme() { const saved = localStorage.getItem("wizzTheme"); if (saved === "light") document.body.classList.add("light"); } async function askWizz() { const input = document.getElementById("userInput"); const question = input.value.trim(); if (!question) return; appendMessage("You", question); input.value = ""; const memoryReply = checkMemoryTriggers(question); if (memoryReply) { appendMessage("Wizz", memoryReply); logChat({ user: question, bot: memoryReply }); saveToHistory("You", question); saveToHistory("Wizz", memoryReply); return; } appendMessage("Wizz", "..."); typingIndicator.innerText = "Wizz is thinking..."; try { const res = await fetch('/api/wizz?question=' + encodeURIComponent(question)); const data = await res.json(); updateLastWizzMessage(data.answer); saveToHistory("You", question); saveToHistory("Wizz", data.answer); logChat({ user: question, bot: data.answer }); } catch (err) { updateLastWizzMessage("âš ï¸ Error: " + err.toString()); } finally { typingIndicator.innerText = ""; } } function appendMessage(sender, message) { const msg = document.createElement("div"); msg.classList.add("message", sender === "You" ? "user" : "wizz"); msg.innerHTML = `${sender}:
${message}`; chatHistory.appendChild(msg); chatHistory.scrollTop = chatHistory.scrollHeight; } function updateLastWizzMessage(newMsg) { const messages = chatHistory.querySelectorAll("div.message"); const last = messages[messages.length - 1]; last.innerHTML = `Wizz:
${newMsg}`; } function saveToHistory(sender, msg) { const history = JSON.parse(localStorage.getItem("wizzChat")) || []; history.push({ sender, msg }); localStorage.setItem("wizzChat", JSON.stringify(history)); } function loadHistory() { const history = JSON.parse(localStorage.getItem("wizzChat")) || []; history.forEach(item => appendMessage(item.sender, item.msg)); } function clearChat() { localStorage.removeItem("wizzChat"); chatHistory.innerHTML = ""; } function clearMemory() { localStorage.removeItem("cloudWizzMemory"); alert("ðŸ§  Wizz memory cleared."); } applyTheme(); loadMemory(); loadHistory(); 
